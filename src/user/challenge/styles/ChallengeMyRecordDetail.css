/* 네임스페이스: cmd-  (Challenge My record Detail) */
:root{
  --cmd-accent: #7c1d0d;
  --cmd-accent-ink: #fff;
  --cmd-max: 520px;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

/* 기본 레이아웃 */
.cmd-page{
  width:100%;
  max-width: var(--cmd-max);
  margin:0 auto;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  /* background:#fafafa; */
  color:#333;
}
@media (prefers-color-scheme: dark){
  .cmd-page{ /* background:#0d0e10; */ color:#f3f4f6; }
}

/* ===== Hero ===== */
.cmd-hero{
  position: relative;
  padding: 20px 20px 16px;
  background:
    radial-gradient(100% 60% at 0% 0%,
      color-mix(in srgb, var(--cmd-accent) 22%, transparent) 0%,
      transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.02) 100%);
}
.cmd-back{
  position:absolute; left:12px; top:12px;
  background:none; border:none; color:#8a8a8a; font-size:22px;
  padding:6px; border-radius:10px; cursor:pointer;
}
.cmd-back:active{ transform: translateY(1px); }

.cmd-hero-main{ margin-top: 18px; }
.cmd-title{
  margin:0;
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.2px;
  color: #333;
}
.cmd-sub{
  margin:6px 0 0;
  font-size: 13px;
  color:#7a7f86;
}
@media (prefers-color-scheme: dark){ .cmd-sub{ color:#a5acb4; } }

.cmd-progress{
  height: 10px; border-radius: 999px; overflow: hidden;
  margin: 12px 0 0;
  background: color-mix(in srgb, var(--cmd-accent) 18%, #e8e8e8);
}
.cmd-progress-bar{
  height:100%;
  background: var(--cmd-accent);
  border-radius: 999px;
  transition: width .35s ease;
}

.cmd-hero-actions{
  display:flex; gap:8px; margin-top:12px; flex-wrap: wrap;
}
.cmd-cta{
  appearance:none;
  border:none;
  border-radius:12px;
  padding:10px 14px;
  font-weight: 900; font-size:14px;
  background: var(--cmd-accent);
  color: var(--cmd-accent-ink);
  box-shadow: 0 8px 18px color-mix(in srgb, var(--cmd-accent) 40%, transparent);
  cursor:pointer;
  transition: transform .08s ease, opacity .12s ease, box-shadow .15s ease, background .12s ease;
}
.cmd-cta:active{ transform: translateY(1px); }
.cmd-cta.done,
.cmd-cta:disabled{
  opacity:.7; cursor: default; box-shadow:none;
  background: color-mix(in srgb, var(--cmd-accent) 65%, #d4d4d4);
}

.cmd-ghost{
  appearance:none;
  border:1px solid rgba(0,0,0,.08);
  background:#fff; color:#222;
  padding:10px 14px; border-radius:12px;
  font-weight:800; font-size:14px; cursor:pointer;
}
@media (prefers-color-scheme: dark){
  .cmd-ghost{ background:#15171b; color:#f3f4f6; border-color:rgba(255,255,255,.12); }
}

/* 우상단 노리개 뱃지 */
.cmd-badge{
  position:absolute; right:16px; top:12px;
  width:64px; height:64px; border-radius:50%;
  background:#fff; object-fit:cover;
  border:1px solid rgba(0,0,0,.06);
  box-shadow: 0 8px 18px rgba(0,0,0,.15);
  z-index: 2;
}
@media (prefers-color-scheme: dark){
  .cmd-badge{ background:#1a1c20; border-color:rgba(255,255,255,.08); }
}

/* ===== Body ===== */
.cmd-body{
  flex:1; overflow:auto; -webkit-overflow-scrolling:touch;
  padding: 10px 16px calc(20px + var(--safe-bottom));
  display:grid; row-gap:16px;
}
.cmd-section{}
.cmd-sec-title{
  margin: 2px 2px 10px;
  font-size: 16px; font-weight: 900;
}

/* 카드 래퍼 */
.cmd-card{
  background:#fff; border-radius:16px;
  border:1px solid rgba(0,0,0,.06);
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
  padding: 14px;
}
.cmd-card-center{ text-align:center; }
@media (prefers-color-scheme: dark){
  .cmd-card{ background:#15171b; border-color:rgba(255,255,255,.08); box-shadow: 0 10px 28px rgba(0,0,0,.35); }
}

/* 완료 뱃지 텍스트 */
.cmd-done-badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px; border-radius:999px;
  background: color-mix(in srgb, var(--cmd-accent) 16%, transparent);
  border:1px solid color-mix(in srgb, var(--cmd-accent) 36%, transparent);
  color: var(--cmd-accent);
  font-weight: 900; font-size: 14px;
  margin-bottom: 10px;
}

/* 로딩/에러 */
.cmd-loading, .cmd-error{
  padding: 20px; text-align: center; color:#7a7f86;
}